git clone --recursive -b ufs-wm-ci https://github.com/NOAA-EPIC/ufs-containers

cd ufs-containers

docker build -f Docker/Dockerfile.ubuntu20.04-gnu9.3-hpc-stack.v1.2 -t  ubuntu20.04-gnu9.3-hpc-stack .

docker login --username noaaepic

docker images

docker tag ubuntu20.04-gnu9.3-hpc-stack noaaepic/ubuntu20.04-gnu9.3-hpc-stack:v1.2

docker push noaaepic/ubuntu20.04-gnu9.3-hpc-stack:v1.2

docker run --rm -it noaaemc/input-data:20220414 sh

cd /tmp/input-data-20220414

***steps to create input-data container***

git clone https://github.com/jkbk2004/fv3-input-dataÂ 

cp -r input-data-20220414 fv3-input-data

cd fv3-input-data

docker build -t my_image .

docker tag my_image noaaepic/input-data:20220414

docker login --username noaaepic

docker push noaaepic/input-data:20220414

****************************************

git clone -b ufs-wm-ci https://github.com/NOAA-EPIC/ufs-containers

git clone -b feature/ubuntu20.04 https://github.com/jkbk2004/hpc-stack.git

docker build -f ufs-containers/Docker/Dockerfile.ubuntu20.04-gnu9.3-hpc-stack_v1.2 -t  ubuntu20.04-gnu9.3-hpc-stack .

****************************************

docker build -f ./ufs-weather-model/tests/ci/Dockerfile -t my_ort .


----------------------------------------
## create ufs-wm and regional workflow conda envs ##
----------------------------------------
module use /work/noaa/epic-ps/tools/modulefiles
module load miniconda/3.9.7

# UFS-WM

conda env create --file=ufswm.yml
source activate ufswm
# to deactivate: conda deactivate

# Regional Workflow

conda env create --file=regional_workflow.yml
source activate regional_workflow
# to deactivate: conda deactivate

# spack-stack

conda enva create --file=spack.yml
source activate spack
# to deactivate: conda deactivat

# view installed environments: conda info --envs
